<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero View</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/heroView.js') }}"></script>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/sitewide.css">
    <link rel="stylesheet" href="../static/css/heroView.css">
</head>
<body>
    <input type="hidden" id="user_id" name="user_id" value={{session.userinfo.sub}}>
            <!--Navbar-->
            <nav class="navbar navbar-expand-lg bg-body-tertiary">
                <div class="container-fluid">
        
                    <!--Profile Icon (HREF Changes based on session or not-->
                    {% if session %}
                    <a href="/logout" class="navbar-brand" id="profile">
                        <img src="{{session.userinfo.picture}}" alt="Bootstrap" width="35" height="35">
                    </a>
                    <div style="display: none;"><pre>{{pretty}}</pre></div>
        
                    {% else %}
                    <a href="/login" class="navbar-brand" id="profile">
                        <img src="../static/assets/img/person-circle.svg" alt="Bootstrap" width="30" height="30">
                    </a>
                    {% endif %}
        
                    <!--Navbar Toggles-->
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                        <a class="nav-link active" aria-current="page" href="#" id="about">About</a>
                        <a class="nav-link" href="/" id="heroes">Heroes</a>
                        <a class="nav-link" href="#">Placeholder</a>
                        </div>
                    </div>
                </div>
            </nav>

            <!--Main Body-->
            <div class="container text-center">

                <!--Hero Info & Buttons-->
                <div class="row gx-6 justify-content-center">
                    <!--Left Column: Image/Chat-->
                    <div class="col-md-4 p-4">
                        <img class="img-fluid" id="hero-img">
                    </div>

                    <!--Right Column: Name/Desc/Diet/Workout-->
                    <div class="col-md-6 p-4 justify-content-center">
                        <h1 id="hero-name"></h1>
                        <p id="hero-description" class="card-text placeholder-glow">
                            <span class="placeholder col-7"></span>
                            <span class="placeholder col-4"></span>
                            <span class="placeholder col-4"></span>
                            <span class="placeholder col-6"></span>
                            <span class="placeholder col-8"></span>
                        </p>

                        <!--Buttons-->
                        <div class="col align-items-center">
                            <button type="button" id="chat" class="btn btn-secondary btn-lg m-1 w-100" onclick="showChatBox()">Chat with Batman</button>
                            <div id="chat-text-box"></div>
                            <div id="chat-text-response"></div>
                            <button class="btn btn-secondary btn-lg m-1 w-100" type="button" data-bs-toggle="collapse" data-bs-target="#diet-text" aria-expanded="false" aria-controls="diet-text">Get a Diet</button>
                            <button class="btn btn-secondary btn-lg m-1 w-100" type="button" data-bs-toggle="collapse" data-bs-target="#workout-text" aria-expanded="false" aria-controls="workout-text">Get a Workout</button>
                        </div>

                    </div>
                </div>

                <!--Diet & Workout Sections-->
                <div class="col m-3">
                    <div class="collapse multi-collapse" id="diet-text">
                    <div class="card card-body" id="diet-body">
                        Loading...
                    </div>
                    </div>
                </div>
                <div class="col m-3">
                    <div class="collapse multi-collapse" id="workout-text" >
                    <div class="card card-body" id="workout-body">
                        Loading...
                    </div>
                    </div>
                </div>

              </div>
    
        <!--JavaScript-->
        <script src="../static/js/bootstrap.min.js"></script>
</body>
</html>